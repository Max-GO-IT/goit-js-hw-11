{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchImages(query) {\n  const url = `https://pixabay.com/api/?key=44433569-eda6d7623baf54ab2611b04f8&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Не вдалося отримати дані від Pixabay API');\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.info({\n          title: 'Не знайдено зображень!',\n          message: 'На жаль, немає зображень, що відповідають вашому пошуковому запиту. Спробуйте ще раз!',\n        });\n        throw new Error('Не знайдено зображень'); \n      }\n      return data.hits;\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Помилка!',\n        message: error.message,\n      });\n      throw error; \n    });\n}","export function renderImages(images) {\n  const gallery = document.querySelector('#gallery');\n  const markup = images.map(image => `\n    <div class=\"photo-card\">\n      <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n      </a>\n      <div class=\"info\">\n        <p class=\"info-item\">\n          <b>${image.likes}</b> likes\n        </p>\n        <p class=\"info-item\">\n          <b>${image.views}</b> views\n        </p>\n        <p class=\"info-item\">\n          <b>${image.comments}</b> comments\n        </p>\n        <p class=\"info-item\">\n          <b>${image.downloads}</b> downloads\n        </p>\n      </div>\n    </div>\n  `).join('');\n  gallery.insertAdjacentHTML('beforeend', markup);\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { fetchImages } from './js/pixabay-api.js';\nimport { renderImages } from './js/render-functions.js';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst searchForm = document.querySelector('#search-form');\nconst gallery = document.querySelector('#gallery');\nconst loading = document.querySelector('#loading');\nloading.style.display = \"none\";\n\nlet lightbox = null; \n\nsearchForm.addEventListener('submit', (event) => {\n  event.preventDefault();\n  const searchQuery = document.querySelector('#search-input').value.trim();\n\n  if (searchQuery === '') {\n    iziToast.warning({\n      title: 'Введіть запит!',\n      message: 'Будь ласка, введіть пошуковий запит',\n    });\n    return;\n  }\n\n  loading.classList.remove('hidden');\n  gallery.innerHTML = '';\n  loading.style.display = \"block\";\n\n  fetchImages(searchQuery)\n    .then(images => {\n      renderImages(images);\n      \n      if (!lightbox) {\n        lightbox = new SimpleLightbox('.gallery-link', {\n          captionDelay: 250,\n          captionPosition: 'bottom',\n          captionType: 'attr',\n          captionsData: 'alt',\n        });\n      } else {\n        lightbox.refresh(); \n      }\n    })\n    .then(() => {\n      loading.style.display = \"none\";\n    })\n    .catch(error => {\n      loading.style.display = \"none\";\n      iziToast.error({\n        title: 'Помилка!',\n        message: error.message,\n      });\n    });\n});\n\n\n"],"names":["fetchImages","query","url","response","data","error","renderImages","images","gallery","markup","image","searchForm","loading","lightbox","event","searchQuery","iziToast","SimpleLightbox"],"mappings":"6vBAAO,SAASA,EAAYC,EAAO,CACjC,MAAMC,EAAM,qEAAqED,CAAK,2DAEtF,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,0CAA0C,EAE5D,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvB,eAAS,KAAK,CACZ,MAAO,yBACP,QAAS,uFACnB,CAAS,EACK,IAAI,MAAM,uBAAuB,EAEzC,OAAOA,EAAK,IAClB,CAAK,EACA,MAAMC,GAAS,CACd,eAAS,MAAM,CACb,MAAO,WACP,QAASA,EAAM,OACvB,CAAO,EACKA,CACZ,CAAK,CACL,CC3BO,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAASF,EAAO,IAAIG,GAAS;AAAA;AAAA,sCAECA,EAAM,aAAa;AAAA,oBACrCA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,eAI3CA,EAAM,KAAK;AAAA;AAAA;AAAA,eAGXA,EAAM,KAAK;AAAA;AAAA;AAAA,eAGXA,EAAM,QAAQ;AAAA;AAAA;AAAA,eAGdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,GAI3B,EAAE,KAAK,EAAE,EACVF,EAAQ,mBAAmB,YAAaC,CAAM,CAChD,CChBA,MAAME,EAAa,SAAS,cAAc,cAAc,EAClDH,EAAU,SAAS,cAAc,UAAU,EAC3CI,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,MAAM,QAAU,OAExB,IAAIC,EAAW,KAEfF,EAAW,iBAAiB,SAAWG,GAAU,CAC/CA,EAAM,eAAc,EACpB,MAAMC,EAAc,SAAS,cAAc,eAAe,EAAE,MAAM,OAElE,GAAIA,IAAgB,GAAI,CACtBC,EAAS,QAAQ,CACf,MAAO,iBACP,QAAS,qCACf,CAAK,EACD,MACD,CAEDJ,EAAQ,UAAU,OAAO,QAAQ,EACjCJ,EAAQ,UAAY,GACpBI,EAAQ,MAAM,QAAU,QAExBZ,EAAYe,CAAW,EACpB,KAAKR,GAAU,CACdD,EAAaC,CAAM,EAEdM,EAQHA,EAAS,QAAO,EAPhBA,EAAW,IAAII,EAAe,gBAAiB,CAC7C,aAAc,IACd,gBAAiB,SACjB,YAAa,OACb,aAAc,KACxB,CAAS,CAIT,CAAK,EACA,KAAK,IAAM,CACVL,EAAQ,MAAM,QAAU,MAC9B,CAAK,EACA,MAAMP,GAAS,CACdO,EAAQ,MAAM,QAAU,OACxBI,EAAS,MAAM,CACb,MAAO,WACP,QAASX,EAAM,OACvB,CAAO,CACP,CAAK,CACL,CAAC"}